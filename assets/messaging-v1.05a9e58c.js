import{_ as e}from"./SearchPanel.vue_vue_type_style_index_0_lang.7d061d5a.js";import{_ as s}from"./ActivityPanel.vue_vue_type_style_index_0_lang.2f7c7b1f.js";import{_ as a,a as n,b as i,c as t,d as l,g as o,e as r,f as c}from"./NotificationsMobileDropdown.vue_vue_type_script_setup_true_lang.9ea11a1c.js";import{_ as d}from"./Sidebar.vue_vue_type_style_index_0_lang.28331978.js";import{A as u,u as v,j as g,o as p,d as m,k as f,w as h,e as _,H as b,m as y,I as C,b as k,V as w,ar as x,c as O,f as j,S as M,U as I,_ as S,M as E,R as A,D as K,i as V,t as D,g as T,F as U,a as $,l as P,y as F,B as z,ae as L,T as N}from"./index.81bb9900.js";import{u as W}from"./panels.f114bc1e.js";import{_ as X}from"./VPageContent.9c3f0f25.js";import{_ as B}from"./having-coffee.8fb8917b.js";import{o as R}from"./via-placeholder.c9fc0738.js";import{u as H}from"./useDropdown.3cfea050.js";import{_ as J,a as q}from"./25.53ecfab2.js";import{_ as G,a as Q}from"./13.6196739d.js";import{_ as Y,a as Z,b as ee,c as se,d as ae,e as ne,f as ie,g as te,h as le,i as oe,j as re,k as ce}from"./12.79ccd4f6.js";import{_ as de}from"./VIconWrap.vue_vue_type_style_index_0_lang.24178dc3.js";import{_ as ue}from"./VPhotosSwipe.8d8cdb51.js";import{u as ve}from"./sidebar.3d85a047.js";import{_ as ge,a as pe}from"./search-4-dark.cee9d58b.js";import{u as me}from"./layoutSwitcher.e22df8f2.js";import{u as fe}from"./viewWrapper.ff52ac28.js";import{u as he}from"./useNotyf.79f4b7e5.js";import"./UserPopoverContent.vue_vue_type_script_setup_true_lang.9f8d3695.js";import"./VBlock.vue_vue_type_style_index_0_lang.aea3d243.js";import"./VIconBox.vue_vue_type_style_index_0_lang.4b5893ab.js";import"./VField.vue_vue_type_script_setup_true_lang.bf348dae.js";import"./VLabel.vue_vue_type_script_setup_true_lang.9266be41.js";import"./VControl.81548721.js";import"./VAvatar.vue_vue_type_style_index_0_lang.4faa0bb7.js";import"./AnimatedLogo.0f636858.js";import"./userPopovers.d6593550.js";import"./VProgress.vue_vue_type_style_index_0_lang.51b32865.js";import"./fastpizza.dd23ca06.js";import"./VDropdown.vue_vue_type_style_index_0_lang.21dd60b2.js";import"./VIcon.vue_vue_type_script_setup_true_lang.52444b90.js";const _e={class:"sidebar-layout"},be=_("div",{class:"app-overlay"},null,-1),ye=_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:activity"},null,-1),Ce=_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:grid"},null,-1),ke=_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:box"},null,-1),we=_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:cpu"},null,-1),xe=_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:message-circle"},null,-1),Oe=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:search"},null,-1)],je=_("li",null,[_("a",{href:"#"},[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:settings"})])],-1),Me=_("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:activity"},null,-1),Ie=_("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:grid"},null,-1),Se=_("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:box"},null,-1),Ee=_("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:cpu"},null,-1),Ae=_("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:message-circle"},null,-1),Ke={class:"right-panel-trigger is-hidden-tablet"},Ve=[_("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather-search"},null,-1)],De=[_("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather-x"},null,-1)],Te={class:"is-hidden-tablet"},Ue=_("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:settings"},null,-1),$e=u({__name:"MessagingLayout",props:{theme:{default:"default"}},setup(o){const r=o,c=W(),u=v(!1);return(o,v)=>{const w=a,x=n,O=i,j=g("RouterLink"),M=t,I=d,S=l,E=s,A=e;return p(),m("div",_e,[be,f(O,{"is-open":u.value,onToggle:v[0]||(v[0]=e=>u.value=!u.value)},{default:h((()=>[f(w),f(x)])),_:1},8,["is-open"]),f(M,{"is-open":u.value,onToggle:v[3]||(v[3]=e=>u.value=!u.value)},{links:h((()=>[_("li",null,[f(j,{to:"/sidebar/dashboards"},{default:h((()=>[ye])),_:1})]),_("li",null,[f(j,{to:"/sidebar/layouts"},{default:h((()=>[Ce])),_:1})]),_("li",null,[f(j,{to:"/elements/"},{default:h((()=>[ke])),_:1})]),_("li",null,[f(j,{to:"/components/"},{default:h((()=>[we])),_:1})]),_("li",null,[f(j,{to:"/messaging-v1"},{default:h((()=>[xe])),_:1})])])),"bottom-links":h((()=>[_("li",null,[_("a",{tabindex:"0",onKeydown:v[1]||(v[1]=b(y((e=>C(c).setActive("search")),["prevent"]),["space"])),onClick:v[2]||(v[2]=e=>C(c).setActive("search"))},Oe,32)]),je])),_:1},8,["is-open"]),f(I,{theme:r.theme},{links:h((()=>[_("li",null,[f(j,{to:"/sidebar/dashboards"},{default:h((()=>[Me])),_:1})]),_("li",null,[f(j,{to:"/sidebar/layouts"},{default:h((()=>[Ie])),_:1})]),_("li",null,[f(j,{to:"/elements/"},{default:h((()=>[Se])),_:1})]),_("li",null,[f(j,{to:"/components/"},{default:h((()=>[Ee])),_:1})]),_("li",null,[f(j,{to:"/messaging-v1"},{default:h((()=>[Ae])),_:1})])])),"bottom-links":h((()=>[_("li",Ke,[_("a",{"data-content":"Search",tabindex:"0",onKeydown:v[4]||(v[4]=b(y((e=>C(c).setActive("search")),["prevent"]),["space"])),onClick:v[5]||(v[5]=e=>C(c).setActive("search"))},Ve,32),_("a",{class:"is-hidden is-inactive",tabindex:"0",onKeydown:v[6]||(v[6]=b(y((e=>C(c).close()),["prevent"]),["space"])),onClick:v[7]||(v[7]=e=>C(c).close())},De,32)]),_("li",Te,[f(j,{id:"open-settings",to:"/sidebar/layouts/profile-settings","data-content":"Settings"},{default:h((()=>[Ue])),_:1})]),_("li",null,[f(x,{up:""})])])),_:1},8,["theme"]),f(S),f(E),f(A),k(o.$slots,"default",{isMobileSidebarOpen:u.value})])}}});const Pe={id:0,name:"",lastMessage:"",unreadMessages:!1,avatar:"/images/avatars/placeholder.jpg"},Fe=w("chat",(()=>{const e=x(),s=v([]),a=v([]),n=v(0),i=v(!1),t=v(!1),l=v(!1),o=O((()=>{const e=s.value.find((e=>e.id===n.value));return e||Pe}));return{conversations:s,messages:a,selectedConversation:o,selectedConversationId:n,addConversationOpen:i,mobileConversationDetailsOpen:t,loading:l,loadConversations:async function(a=0,n=10){if(!l.value){l.value=!0;try{const i=await async function(e,s=0,a=20){let n=0;const{data:i,headers:t}=await e.get(`/api/conversations?_start=${s}&_limit=${a}`);return"X-Total-Count"in t&&(n=parseInt(t["X-Total-Count"])),{conversations:i,count:n}}(e,a,n);s.value=i.conversations}finally{l.value=!1}}},setAddConversationOpen:function(e){i.value=e},setMobileConversationDetailsOpen:function(e){t.value=e},selectConversastion:async function(s){if(!l.value){l.value=!0;try{const i=await async function(e,s,a=0,n=20){let i=0;const{data:t,headers:l}=await e.get(`/api/conversations/${s}/messages?_start=${a}&_limit=${n}`);return"X-Total-Count"in l&&(i=parseInt(l["X-Total-Count"])),{messages:t,count:i}}(e,s);n.value=s,a.value=i.messages}finally{l.value=!1}}},unselectConversation:function(){n.value=0,a.value=[]}}})),ze=[(e=>(M("data-v-27e3c6ae"),e=e(),I(),e))((()=>_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:chevron-left"},null,-1)))],Le=S(u({__name:"ChatSideFab",setup(e){const s=Fe();return(e,a)=>(p(),m("a",{class:j([[C(s).mobileConversationDetailsOpen&&"is-mobile-active"],"chat-side-fab"]),"aria-label":"Close convesation details",tabindex:"0",onKeydown:a[0]||(a[0]=b(y((e=>C(s).setMobileConversationDetailsOpen(!C(s).mobileConversationDetailsOpen)),["prevent"]),["space"])),onClick:a[1]||(a[1]=e=>C(s).setMobileConversationDetailsOpen(!C(s).mobileConversationDetailsOpen))},ze,34))}}),[["__scopeId","data-v-27e3c6ae"]]),Ne={class:"is-chat-placeholder animated preFadeInUp fadeInUp is-hidden"},We={class:"caption"},Xe=_("div",{class:"text"},[_("h3",null,"Nothing to show"),_("p",null,"Select an existing conversation or start a new one"),_("a",{id:"new-chat",class:"button v-button is-solid is-outlined is-big is-rounded"}," Start a new conversation ")],-1),Be=u({__name:"ChatPlaceholder",setup:e=>(e,s)=>(p(),m("div",Ne,[_("div",We,[_("img",{src:B,alt:"",onErrorOnce:s[0]||(s[0]=e=>C(R)(150))},null,32),Xe])]))}),Re={class:"message-field-wrapper"},He={class:"control"},Je={class:"add-content"},qe=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:plus"},null,-1)],Ge=_("div",{class:"dropdown-menu",role:"menu"},[_("div",{class:"dropdown-content"},[_("a",{class:"dropdown-item"},[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:video"}),_("div",{class:"meta"},[_("span",null,"Video"),_("span",null,"Embed a video")])]),_("a",{href:"#",class:"dropdown-item kill-drop v-modal-trigger"},[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:image"}),_("div",{class:"meta"},[_("span",null,"Images"),_("span",null,"Upload pictures")])]),_("a",{href:"#",class:"dropdown-item kill-drop v-modal-trigger"},[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:link"}),_("div",{class:"meta"},[_("span",null,"Link"),_("span",null,"Post a link")])]),_("hr",{class:"dropdown-divider"}),_("a",{href:"#",class:"dropdown-item kill-drop v-modal-trigger"},[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:file"}),_("div",{class:"meta"},[_("span",null,"File"),_("span",null,"Upload a file")])])])],-1),Qe=E('<div class="add-emoji"><div class="button"><i aria-hidden="true" class="iconify" data-icon="feather:smile"></i></div></div><input id="chat-input" class="input is-rounded" type="text" placeholder="Write a message ..." aria-label="Write a message"><div class="send-message"><div class="button v-button is-primary is-raised is-rounded">Send</div></div>',3),Ye=_("div",{class:"typing-indicator"},[_("img",{src:"/images/icons/misc/typing.gif",alt:""})],-1),Ze=u({__name:"ChatMessageFieldWrapper",setup(e){const s=v(),a=H(s);return(e,n)=>(p(),m("div",Re,[_("div",He,[_("div",Je,[_("div",{ref_key:"dropdownElement",ref:s,class:"dropdown dropdown-trigger is-up"},[_("div",null,[_("div",{class:"button","aria-haspopup":"true",onClick:n[0]||(n[0]=(...e)=>C(a).toggle&&C(a).toggle(...e))},qe)]),Ge],512)]),Qe]),Ye]))}}),es={class:"chat-body-wrap"};const ss=S({},[["render",function(e,s){return p(),m("div",es,[k(e.$slots,"default")])}]]),as={id:"chat-body",class:"chat-body"};const ns=S({},[["render",function(e,s){return p(),m("ol",as,[k(e.$slots,"default")])}]]),is={class:"chat-header"};const ts=S({},[["render",function(e,s){return p(),m("div",is,[k(e.$slots,"default")])}]]),ls={class:"is-chat animated preFadeInUp fadeInUp"};const os=S({},[["render",function(e,s){const a=ts,n=ns,i=ss,t=Ze;return p(),m("div",ls,[f(a,null,{default:h((()=>[k(e.$slots,"header")])),_:3}),f(i,null,{default:h((()=>[f(n,null,{default:h((()=>[k(e.$slots,"body")])),_:3}),k(e.$slots,"side")])),_:3}),f(t)])}]]),rs={class:"toolbar ml-auto"},cs={class:"toolbar-link"},ds={class:"dark-mode ml-auto"},us=["checked"],vs=_("span",null,null,-1),gs=["src"],ps={class:"toolbar-notifications is-hidden-mobile"},ms=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:bell"},null,-1),_("span",{class:"new-indicator pulsate"},null,-1)],fs={class:"dropdown-menu",role:"menu"},hs={class:"dropdown-content"},_s={class:"heading"},bs=_("div",{class:"heading-left"},[_("h6",{class:"heading-title"},"Notifications")],-1),ys={class:"heading-right"},Cs=V(" See all "),ks={class:"notification-list"},ws={class:"notification-item"},xs={class:"img-left"},Os=_("div",{class:"user-content"},[_("p",{class:"user-info"},[_("span",{class:"name"},"Alice C."),V(" left a comment. ")]),_("p",{class:"time"},"1 hour ago")],-1),js={class:"notification-item"},Ms={class:"img-left"},Is=_("div",{class:"user-content"},[_("p",{class:"user-info"},[_("span",{class:"name"},"Joshua S."),V(" uploaded a file. ")]),_("p",{class:"time"},"2 hours ago")],-1),Ss={class:"notification-item"},Es={class:"img-left"},As=_("div",{class:"user-content"},[_("p",{class:"user-info"},[_("span",{class:"name"},"Tara S."),V(" sent you a message. ")]),_("p",{class:"time"},"2 hours ago")],-1),Ks={class:"notification-item"},Vs={class:"img-left"},Ds=_("div",{class:"user-content"},[_("p",{class:"user-info"},[_("span",{class:"name"},"Melany W."),V(" left a comment. ")]),_("p",{class:"time"},"3 hours ago")],-1),Ts=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:chevron-right"},null,-1)],Us=u({__name:"MessagingToolbar",emits:["close"],setup(e,{emit:s}){const a=W(),n=A(),{locale:i}=K(),t=v(),l=H(t),o=O((()=>{switch(i.value){case"fr":return"/images/icons/flags/france.svg";case"es":return"/images/icons/flags/spain.svg";case"es-MX":return"/images/icons/flags/mexico.svg";case"de":return"/images/icons/flags/germany.svg";case"zh-CN":return"/images/icons/flags/china.svg";default:return"/images/icons/flags/united-states-of-america.svg"}}));return(e,i)=>{const r=g("RouterLink");return p(),m("div",rs,[_("div",cs,[_("label",ds,[_("input",{"data-cy":"dark-mode-toggle",type:"checkbox",checked:!C(n).isDark,tabindex:"0",onKeydown:i[0]||(i[0]=b(y((e=>e.target.click()),["prevent"]),["space"])),onChange:i[1]||(i[1]=(...e)=>C(n).onChange&&C(n).onChange(...e))},null,40,us),vs])]),_("a",{class:"toolbar-link right-panel-trigger",tabindex:"0",onKeydown:i[2]||(i[2]=b(y((e=>C(a).setActive("languages")),["prevent"]),["space"])),onClick:i[3]||(i[3]=e=>C(a).setActive("languages"))},[_("img",{src:C(o),alt:""},null,8,gs)],32),_("div",ps,[_("div",{ref_key:"dropdownElement",ref:t,class:"dropdown is-spaced is-dots is-right dropdown-trigger"},[_("div",{class:"is-trigger","aria-haspopup":"true",onClick:i[4]||(i[4]=(...e)=>C(l).toggle&&C(l).toggle(...e))},ms),_("div",fs,[_("div",hs,[_("div",_s,[bs,_("div",ys,[f(r,{class:"notification-link",to:"/sidebar/layouts/profile-notifications"},{default:h((()=>[Cs])),_:1})])]),_("ul",ks,[_("li",null,[_("a",ws,[_("div",xs,[_("img",{class:"user-photo",alt:"",src:J,onErrorOnce:i[5]||(i[5]=e=>C(R)(150))},null,32)]),Os])]),_("li",null,[_("a",js,[_("div",Ms,[_("img",{class:"user-photo",alt:"",src:G,onErrorOnce:i[6]||(i[6]=e=>C(R)(150))},null,32)]),Is])]),_("li",null,[_("a",Ss,[_("div",Es,[_("img",{class:"user-photo",alt:"",src:Q,onErrorOnce:i[7]||(i[7]=e=>C(R)(150))},null,32)]),As])]),_("li",null,[_("a",Ks,[_("div",Vs,[_("img",{class:"user-photo",alt:"",src:q,onErrorOnce:i[8]||(i[8]=e=>C(R)(150))},null,32)]),Ds])])])])])],512)]),_("a",{id:"hide-chat-side",class:"toolbar-link",tabindex:"0",onKeydown:i[9]||(i[9]=b(y((e=>s("close")),["prevent"]),["space"])),onClick:i[10]||(i[10]=e=>s("close"))},Ts,32)])}}}),$s={class:"chat-side-header"},Ps={class:"chat-side-content is-single"},Fs={class:"user-pic"},zs=["src"],Ls={key:0,class:"user-name"},Ns={key:1,class:"user-job-title"},Ws=E('<div class="side-actions"><a class="button v-button is-rounded"><span class="icon is-small"><i aria-hidden="true" class="fas fa-phone"></i></span><span>Audio Call</span></a><a class="button v-button is-rounded"><span class="icon is-small"><i aria-hidden="true" class="fas fa-video"></i></span><span>Video Call</span></a></div>',1),Xs={class:"detail-photos"},Bs=E('<div class="detail-photo-title"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-image"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><path d="M21 15l-5-5L5 21"></path></svg> Shared photos </div>',1),Rs={class:"detail-photo-grid"},Hs=_("a",{class:"view-more"},"View More",-1),Js=u({__name:"ChatSide",setup(e){const s=Fe();return(e,a)=>{const n=Us;return p(),m("div",{class:j([[C(s).mobileConversationDetailsOpen&&"is-mobile-active"],"chat-side"])},[_("div",$s,[f(n,{onClose:a[0]||(a[0]=e=>C(s).setMobileConversationDetailsOpen(!1))})]),_("div",Ps,[_("div",Fs,[_("img",{id:"user-details-image",src:C(s).selectedConversation.avatar,alt:"",onError:a[1]||(a[1]=e=>C(R)(150))},null,40,zs),_("img",{id:"user-details-badge",class:"is-badge",src:o,alt:"",onErrorOnce:a[2]||(a[2]=e=>C(R)(150))},null,32)]),C(s).selectedConversation.name?(p(),m("h4",Ls,D(C(s).selectedConversation.name),1)):T("",!0),C(s).selectedConversation.lastMessage?(p(),m("p",Ns,D(C(s).selectedConversation.lastMessage),1)):T("",!0),Ws,_("div",Xs,[Bs,_("div",Rs,[_("img",{src:Y,alt:"",onErrorOnce:a[3]||(a[3]=e=>C(R)(1600,900))},null,32),_("img",{src:Z,alt:"",onErrorOnce:a[4]||(a[4]=e=>C(R)(1600,900))},null,32),_("img",{src:ee,alt:"",onErrorOnce:a[5]||(a[5]=e=>C(R)(1600,900))},null,32),_("img",{src:se,alt:"",onErrorOnce:a[6]||(a[6]=e=>C(R)(1600,900))},null,32),_("img",{src:ae,alt:"",onErrorOnce:a[7]||(a[7]=e=>C(R)(1600,900))},null,32),_("img",{src:ne,alt:"",onErrorOnce:a[8]||(a[8]=e=>C(R)(1600,900))},null,32),_("img",{src:ie,alt:"",onErrorOnce:a[9]||(a[9]=e=>C(R)(1600,900))},null,32),_("img",{src:te,alt:"",onErrorOnce:a[10]||(a[10]=e=>C(R)(1600,900))},null,32),_("img",{src:le,alt:"",onErrorOnce:a[11]||(a[11]=e=>C(R)(1600,900))},null,32),_("img",{src:oe,alt:"",onErrorOnce:a[12]||(a[12]=e=>C(R)(1600,900))},null,32),_("img",{src:re,alt:"",onErrorOnce:a[13]||(a[13]=e=>C(R)(1600,900))},null,32),_("img",{src:ce,alt:"",onErrorOnce:a[14]||(a[14]=e=>C(R)(1600,900))},null,32)]),Hs])])],2)}}}),qs={key:0,class:"divider-container"},Gs={class:"divider"},Qs={class:"avatar"},Ys=["src"],Zs={class:"msg"},ea={class:"msg-inner"},sa={class:"avatar is-online"},aa=["src"],na={class:"msg is-image"},ia={class:"image-container"},ta=_("div",{class:"image-overlay"},null,-1),la={class:"image-actions"},oa={class:"actions-inner"},ra=_("div",{class:"action download"},[_("span",{class:"iconify","data-icon":"feather:download"})],-1),ca=["href"],da=[_("span",{class:"iconify","data-icon":"feather:maximize"},null,-1)],ua={class:"avatar"},va=["src"],ga={class:"msg is-link-image"},pa={class:"image"},ma=["src"],fa={class:"link-badge"},ha=["src"],_a={class:"link-body"},ba={class:"link-title"},ya={class:"avatar is-online"},Ca=["src"],ka={class:"msg is-link"},wa={class:"link-meta"},xa={href:"#"},Oa=u({__name:"ChatMsg",props:{message:null},setup(e){const s=e;return(e,a)=>{const n=ue,i=de;return p(),m("li",{class:j(["system"===s.message.type&&"divider-container","system"!==s.message.type&&s.message.sender])},["system"===s.message.type?(p(),m("li",qs,[_("div",Gs,[_("span",null,D(s.message.content.text),1)])])):"msg"===s.message.type?(p(),m(U,{key:1},[_("div",Qs,[s.message.avatar?(p(),m("img",{key:0,src:s.message.avatar,draggable:"false",alt:""},null,8,Ys)):T("",!0)]),_("div",Zs,[_("div",ea,[_("p",null,D(s.message.content.text),1)]),_("time",null,D(s.message.content.time),1)])],64)):"image"===s.message.type?(p(),m(U,{key:2},[_("div",sa,[s.message.avatar?(p(),m("img",{key:0,src:s.message.avatar,draggable:"false",alt:""},null,8,aa)):T("",!0)]),_("div",na,[_("div",ia,[s.message.content.image_url?(p(),$(n,{key:0,items:[{src:s.message.content.image_url,thumbnail:s.message.content.image_url,w:600,h:400,alt:"optional alt attribute for thumbnail image"}],"thumbnail-radius":"full"},null,8,["items"])):T("",!0),ta,_("div",la,[_("div",oa,[ra,_("a",{href:s.message.content.image_url,class:"action messaging-popup","aria-label":"Maximize"},da,8,ca)])])])])],64)):"imagelink"===s.message.type?(p(),m(U,{key:3},[_("div",ua,[s.message.avatar?(p(),m("img",{key:0,src:s.message.avatar,draggable:"false",alt:""},null,8,va)):T("",!0)]),_("div",ga,[_("figure",pa,[_("img",{src:s.message.content.link_image,alt:""},null,8,ma),_("div",fa,[_("img",{src:s.message.content.link_badge,alt:""},null,8,ha)])]),_("div",_a,[_("span",ba,D(s.message.content.text),1),_("small",null,D(s.message.content.subtext),1)])])],64)):"link"===s.message.type?(p(),m(U,{key:4},[_("div",ya,[s.message.avatar?(p(),m("img",{key:0,src:s.message.avatar,draggable:"false",alt:""},null,8,Ca)):T("",!0)]),_("div",ka,[f(i,{icon:"feather:link"}),_("p",wa,[_("span",null,D(s.message.content.text),1),_("a",xa,D(s.message.content.subtext),1)])])],64)):T("",!0)],2)}}}),ja={class:"inner"},Ma={class:"collapsed-menu"},Ia={class:"menu-toggle has-chevron"},Sa=[_("span",{class:"rotate"},[_("i",{"aria-hidden":"true",class:"icon-line-top"}),_("i",{"aria-hidden":"true",class:"icon-line-center"}),_("i",{"aria-hidden":"true",class:"icon-line-bottom"})],-1)],Ea={class:"collapsed-add"},Aa=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:plus"},null,-1)],Ka={class:"collapsed-conversations"},Va=["onKeydown","onClick"],Da={class:"user-container"},Ta=["src"],Ua=u({__name:"CollapsedMessaging",props:{conversations:{default:()=>[]},selectedConversationId:{default:0}},emits:["addConversation","selectConversation"],setup(e,{emit:s}){const a=e,n=ve();return(e,i)=>(p(),m("div",{class:j([["messages"!==C(n).active&&"is-active"],"collapsed-messaging"])},[_("div",ja,[_("div",Ma,[_("div",{class:"vuero-hamburger nav-trigger push-resize messages-push",tabindex:"0",onKeydown:i[0]||(i[0]=b(y((e=>C(n).toggle("messages")),["prevent"]),["space"])),onClick:i[1]||(i[1]=e=>C(n).toggle("messages"))},[_("span",Ia,[_("span",{class:j([["none"!==C(n).active&&"active"],"icon-box-toggle"])},Sa,2)])],32)]),_("div",Ea,[_("a",{class:"button collapse-add-button is-primary",tabindex:"0",onKeydown:i[2]||(i[2]=b(y((e=>s("addConversation")),["prevent"]),["space"])),onClick:i[3]||(i[3]=()=>s("addConversation"))},Aa,32)]),_("ul",Ka,[(p(!0),m(U,null,P(a.conversations,(e=>(p(),m("li",{key:e.id,class:j([a.selectedConversationId===e.id&&"is-active"]),tabindex:"0",onKeydown:b(y((()=>s("selectConversation",e.id)),["prevent"]),["space"]),onClick:()=>s("selectConversation",e.id)},[_("div",Da,[_("img",{class:"is-user",src:e.avatar,alt:"",onErrorOnce:i[4]||(i[4]=e=>C(R)(150))},null,40,Ta)])],42,Va)))),128))])])],2))}}),$a={class:"mobile-subsidebar is-messaging"},Pa={class:"inner"},Fa=_("div",{class:"sidebar-title"},[_("h3",null,"Messages")],-1),za={id:"mobile-conversations-list",class:"animated preFadeInUp fadeInUp"},La=["onKeydown","onClick"],Na={class:"recent-user"},Wa={class:"user-container"},Xa=["src"],Ba={class:"recipient-meta"},Ra=u({__name:"MessagesMobileSubsidebar",props:{conversations:{default:()=>[]},selectedConversationId:{default:0}},emits:["selectConversation"],setup(e,{emit:s}){const a=e;return(e,n)=>(p(),m("div",$a,[_("div",Pa,[Fa,_("ul",za,[(p(!0),m(U,null,P(a.conversations,(e=>(p(),m("li",{key:e.id,class:j([a.selectedConversationId===e.id&&"is-active"]),tabindex:"0",onKeydown:b(y((()=>s("selectConversation",e.id)),["prevent"]),["space"]),onClick:()=>s("selectConversation",e.id)},[_("div",Na,[_("div",Wa,[_("img",{class:"is-user",src:e.avatar,alt:"",onErrorOnce:n[0]||(n[0]=e=>C(R)(150))},null,40,Xa)]),_("div",Ba,[_("span",null,D(e.name),1),_("span",null,D(e.lastMessage),1)])])],42,La)))),128))])])]))}}),Ha={class:"sidebar-panel is-messages"},Ja={class:"messages-header"},qa=_("h3",{class:"no-mb"},"Chat",-1),Ga={class:"menu-toggle has-chevron"},Qa=[_("span",{class:"rotate"},[_("i",{"aria-hidden":"true",class:"icon-line-top"}),_("i",{"aria-hidden":"true",class:"icon-line-center"}),_("i",{"aria-hidden":"true",class:"icon-line-bottom"})],-1)],Ya={class:"inner"},Za={class:"is-new-conversation"},en=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:plus"},null,-1),_("span",null,"New Conversation",-1)],sn={id:"conversations-list",class:"animated preFadeInUp fadeInUp"},an=["onKeydown","onClick"],nn={class:"recent-user"},tn={class:"user-container"},ln=["src"],on={class:"recipient-meta"},rn=u({__name:"MessagesSubsidebar",props:{conversations:{default:()=>[]},selectedConversationId:{default:0}},emits:["addConversation","selectConversation"],setup(e,{emit:s}){const a=e,n=ve();return(e,i)=>(p(),m("div",Ha,[_("div",Ja,[qa,_("div",{class:"vuero-hamburger nav-trigger push-resize messages-push",tabindex:"0",onKeydown:i[0]||(i[0]=b(y((e=>C(n).toggle("messages")),["prevent"]),["space"])),onClick:i[1]||(i[1]=e=>C(n).toggle("messages"))},[_("span",Ga,[_("span",{class:j([["none"!==C(n).active&&"active"],"icon-box-toggle"])},Qa,2)])],32)]),_("div",Ya,[_("div",Za,[_("button",{id:"start-conversation",class:"button v-button is-primary is-raised is-rounded is-fullwidth",onClick:i[2]||(i[2]=()=>s("addConversation"))},en)]),_("ul",sn,[(p(!0),m(U,null,P(a.conversations,(e=>(p(),m("li",{key:e.id,class:j([a.selectedConversationId===e.id&&"is-active"]),tabindex:"0",onKeydown:b(y((()=>s("selectConversation",e.id)),["prevent"]),["space"]),onClick:()=>s("selectConversation",e.id)},[_("div",nn,[_("div",tn,[_("img",{class:"is-user",src:e.avatar,alt:"",onErrorOnce:i[3]||(i[3]=e=>C(R)(150))},null,40,ln)]),_("div",on,[_("span",null,D(e.name),1),_("span",null,D(e.lastMessage),1)])])],42,an)))),128))])])]))}}),cn={class:"page-title has-text-centered is-hidden"},dn={class:"menu-toggle has-chevron"},un=[_("span",{class:"rotate"},[_("i",{"aria-hidden":"true",class:"icon-line-top"}),_("i",{"aria-hidden":"true",class:"icon-line-center"}),_("i",{"aria-hidden":"true",class:"icon-line-bottom"})],-1)],vn=_("h1",{class:"title is-5"},"Messages",-1),gn={class:"control"},pn=_("div",{class:"easy-autocomplete"},[_("input",{id:"users-autocpl",type:"text",class:"input","aria-label":"To",placeholder:"Start typing a name"})],-1),mn=_("div",{class:"icon"},[_("span",null,"To:")],-1),fn=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],hn={key:0,class:"no-messages"},_n=[_("img",{class:"light-image",src:ge,alt:""},null,-1),_("img",{class:"dark-image",src:pe,alt:""},null,-1),_("div",{class:"text"},[_("h3",null,"No messages yet"),_("p",null,"Start the conversation by typing a message")],-1)],bn=[_("div",{class:"loader is-loading"},null,-1)],yn=u({__name:"messaging-v1",setup(e){const s=Fe(),a=me(),n=fe(),i=ve(),t=he();function l(){s.unselectConversation(),s.setAddConversationOpen(!s.addConversationOpen)}function o(e){s.setAddConversationOpen(!1),s.selectConversastion(e)}return F((async()=>{i.setActive("messages");try{await s.loadConversations();const e=s.conversations.find((e=>!e.unreadMessages));e?s.selectConversastion(e.id):s.selectConversastion(s.conversations[0].id)}catch(e){t.error(e.message),console.error(e)}})),z({title:"Messaging chat - Sidebar - Vuero"}),L((()=>{n.setPushed("messages"===i.active)})),(e,n)=>{const t=rn,d=Ra,u=Ua,v=Oa,g=Js,k=os,w=Be,x=X,O=r,M=c,I=Le,S=$e;return p(),$(S,{theme:C(a).sidebarLayoutTheme},{default:h((({isMobileSidebarOpen:e})=>[f(N,{name:"slide-x"},{default:h((()=>["messages"===C(i).active?(p(),$(t,{key:0,conversations:C(s).conversations,"selected-conversation-id":C(s).selectedConversationId,onAddConversation:l,onSelectConversation:o},null,8,["conversations","selected-conversation-id"])):T("",!0)])),_:1}),f(N,{name:"slide-x"},{default:h((()=>[e?(p(),$(d,{key:0,conversations:C(s).conversations,"selected-conversation-id":C(s).selectedConversationId,onSelectConversation:o},null,8,["conversations","selected-conversation-id"])):T("",!0)])),_:2},1024),f(u,{conversations:C(s).conversations,"selected-conversation-id":C(s).selectedConversationId,onAddConversation:l,onSelectConversation:n[0]||(n[0]=e=>{C(s).setAddConversationOpen(!1),C(s).selectConversastion(e)})},null,8,["conversations","selected-conversation-id"]),f(M,{id:"vuero-messaging",class:j(["none"===C(i).active&&"is-pushed-messages"])},{default:h((()=>[f(O,null,{default:h((()=>[f(x,{class:"chat-content"},{default:h((()=>[_("div",cn,[_("div",{class:"vuero-hamburger nav-trigger push-resize",tabindex:"0",onKeydown:n[1]||(n[1]=b(y((e=>C(i).toggle("messages")),["prevent"]),["space"])),onClick:n[2]||(n[2]=e=>C(i).toggle("messages"))},[_("span",dn,[_("span",{class:j([["none"!==C(i).active&&"active"],"icon-box-toggle"])},un,2)])],32),vn]),f(k,null,{header:h((()=>[_("div",{class:j([[!C(s).addConversationOpen&&"is-hidden"],"is-autocomplete"])},[_("div",gn,[pn,mn,_("div",{class:"hide",tabindex:"0",onKeydown:n[3]||(n[3]=b(y((e=>C(s).setAddConversationOpen(!1)),["prevent"]),["space"])),onClick:n[4]||(n[4]=e=>C(s).setAddConversationOpen(!1))},fn,32)])],2)])),body:h((()=>[0===C(s).messages.length?(p(),m("li",hn,_n)):T("",!0),(p(!0),m(U,null,P(C(s).messages,(e=>(p(),$(v,{key:e.id,message:e},null,8,["message"])))),128)),_("li",{class:j(["chat-loader",[C(s).loading&&"is-active"]])},bn,2)])),side:h((()=>[f(g)])),_:1}),f(w)])),_:1})])),_:1})])),_:1},8,["class"]),f(I)])),_:1},8,["theme"])}}});export{yn as default};
